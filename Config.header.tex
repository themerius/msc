\documentclass[11pt, a4paper]{report}  % article, report, book

%\usepackage[margin=3.3cm]{geometry}

\usepackage{ifthen}
\newboolean{draft}

\input{Config.methods}

% Recommended for XeLaTeX
  \usepackage{fontspec}
  \usepackage{xltxtra}

% Typography
  \usepackage[notext, light]{kpfonts}
  \mathversion{rm}
  \setmainfont[
    Mapping=tex-text,
    Ligatures={Common},
    ItalicFont={Source Sans Pro Light Italic},
    BoldFont={Source Sans Pro},
    BoldItalicFont={Source Sans Pro Italic}]{Source Sans Pro Light}
  \setmonofont[Mapping=tex-text, Scale=0.85]{Source Code Pro ExtraLight}
  %\usepackage{unicode-math}  % needed for setmathfont
  %\setmathfont{STIX Math}
  \usepackage{microtype}

% Layout. http://de.wikipedia.org/wiki/Normseite
  %\usepackage{multicol}
  %\usepackage[a4paper]{geometry}
  %\usepackage{stdpage}

% Global \noindent
  \setlength\parindent{0pt}

% Vertical Line Spacing
  \usepackage{setspace}
  \onehalfspacing

% Language
  \usepackage{polyglossia}
  \setdefaultlanguage[latesthyphen=true]{german}
  \setotherlanguage{english}

% Hyphenation
  \tolerance=0
  \emergencystretch=\maxdimen
  \hyphenpenalty=0
  \hbadness=0

% Biblography Style: \citet{}, \citep[][]{}
  \usepackage{natbib}  % Info: http://merkel.zoneo.net/Latex/natbib.php

% Glossary: (Listed in Table of Contents)
  \usepackage[toc, nonumberlist]{glossaries}
  \makeglossaries

% Colors
  \usepackage[svgnames]{xcolor}

% For macro: \url{}
  \usepackage[hyphens]{url}

% Caption options (left align)
  \usepackage[
    justification=justified,
    singlelinecheck=false,
    font=footnotesize,
    labelfont=bf,
    textfont=singlespacing,
    indention=.5cm]{caption}

% Make inlike Multicolum pages
  \usepackage{multicol}

% Marginal Note: \mpar{A note} (http://de.wikibooks.org/wiki/LaTeX-WÃ¶rterbuch:_marginpar)
  \newcommand\mpar[1]{\marginpar {\flushleft\footnotesize #1}}
  \setlength{\marginparwidth}{3cm}

% PDF with Links
  \usepackage[
    colorlinks=false,
    urlcolor=black,
    bookmarks=true,
    unicode=false,
    pdfencoding=auto
    pdfstartview=FitH]{hyperref}
  \hypersetup{
    pdftitle={\thema},
    pdfauthor={\autor},
    pdfsubject={\subtitle},
    pdfkeywords={\keywords}
  }

% TODO Annotations: \todo{Whats to do...}
  \usepackage{todonotes}

% Enumerations with pattern
  \usepackage{paralist}

% Listings
  \usepackage{listings}

  \lstset{
    frame=tb,
    language=bash,  % default language
    aboveskip=3mm,
    belowskip=3mm,
    showstringspaces=false,
    columns=flexible,
    basicstyle={\fontsize{9}{10}\ttfamily},
    numbers=left,
    numberstyle=\tiny\color{gray},
    keywordstyle=\color{blue},
    commentstyle=\color{dkgreen},
    stringstyle=\color{mauve},
    frame=single,
    breaklines=true,
    breakatwhitespace=true,
    tabsize=2,
    extendedchars=\true,
    inputencoding=utf8,
    escapeinside={\%*}{*)}  % http://tex.stackexchange.com/questions/24528/
  }

  \definecolor{dkgreen}{rgb}{0,0.6,0}
  \definecolor{gray}{rgb}{0.5,0.5,0.5}
  \definecolor{mauve}{rgb}{0.58,0,0.82}

  \lstdefinelanguage{Scala}{
    morekeywords={abstract,case,catch,class,def,
      do,else,extends,false,final,finally,
      for,if,implicit,import,match,mixin,
      new,null,object,override,package,
      private,protected,requires,return,sealed,
      super,this,throw,trait,true,try,
      type,val,var,while,with,yield},
    otherkeywords={=>,<-,<\%,<:,>:,\#,@},
    sensitive=true,
    morecomment=[l]{//},
    morecomment=[n]{/*}{*/},
    morestring=[b]",
    morestring=[b]',
    morestring=[b]"""
  } % http://tihlde.org/~eivindw/latex-listings-for-scala/

  \lstdefinelanguage{JavaScript}{
    keywords={
      typeof, new, true, false, catch, function, return, null,
      catch, switch, var, if, in, while, do, else, case, break
    },
    ndkeywords={class, export, boolean, throw, implements, import, this},
    sensitive=false,
    comment=[l]{//},
    morecomment=[s]{/*}{*/},
    morestring=[b]',
    morestring=[b]"
  } % http://lenaherrmann.net/2010/05/20/javascript-syntax-highlighting-in-the-latex-listings-package